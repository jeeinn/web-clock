# 📱 网络时钟 - 响应式设计

[![Version](https://img.shields.io/badge/version-1.2.0-blue.svg)](https://github.com/jeeinn/web-clock/releases/tag/v1.2.0)
[![License](https://img.shields.io/badge/license-MIT-green.svg)](LICENSE)

一个响应式的网络时钟应用，优先优化 iPhone SE (320×568px)，同时完美支持各种设备屏幕。让你的退役iPhone、iPad或任何设备变成实用的时钟显示器。

## ✨ 功能特性

### 🕐 时间显示
- ⏰ **大字号24小时制时间显示** - 清晰易读，一目了然
- ⏱️ **可选秒钟显示** - 增加动态感，如 22:12:33（默认开启）
- 📅 **可选日期显示** - 通过设置开关控制是否显示日期

### 🎨 主题系统
- 🌓 **自动主题模式** - 根据系统设置或时间自动切换
- ☀️ **白天主题** - 明亮清爽的浅色界面
- 🌙 **夜间主题** - 护眼省电的深色界面
- 🔄 **智能切换** - 自动模式下6:00-18:00为白天主题

### 📱 设备适配
- 📱 **iPhone SE 优先优化** - 完美适配 320×568px 小屏幕
- 📲 **多设备支持** - 支持 iPhone 6/7/8、iPhone X/11/12/13/14、Plus/Pro Max 等
- 📱 **平板适配** - 完美支持 iPad mini、iPad、iPad Pro
- 💻 **桌面端支持** - 可在电脑浏览器中使用，大屏显示更清晰
- 🔄 **横屏模式优化** - 智能布局调整，横屏时时间和日期并排显示
- 📐 **响应式设计** - 使用 clamp() 等现代CSS技术，自动适配任何屏幕尺寸

### ⚙️ 用户体验
- 🛠️ **简洁的设置界面** - 齿轮按钮打开设置面板，分组清晰
- 🔒 **防休眠功能** - 屏幕保持常亮，适合长时间显示
- 💾 **设置持久化** - 自动保存你的偏好设置
- 🚀 **纯 Web 应用** - 无需安装，直接在浏览器中使用

## 🚀 使用方法

### 方法一：直接在手机上访问（推荐）

1. **上传到服务器**
   - 将项目文件夹（包含 `index.html`, `style.css`, `script.js`）上传到你的 Web 服务器
   - 例如：上传到 GitHub Pages、Netlify、Vercel 等免费托管平台

2. **在 iPhone 上访问**
   - 在 Safari 浏览器中访问你的网址
   - 点击下方的「分享」按钮
   - 选择「添加到主屏幕」
   - 给应用起个名字（如：时钟）
   - 从主屏幕打开应用，享受全屏体验！

### 方法二：本地测试

在项目目录下运行以下命令启动本地服务器：

```bash
# 使用 Python 3
python3 -m http.server 8080

# 或者使用 Node.js
npx http-server -p 8080
```

然后在浏览器中访问：
```
http://localhost:8080
```

在手机上访问，需要连接同一 WiFi，然后访问你的电脑 IP 地址：
```
http://你的电脑IP:8080
```

## 📖 使用说明

### 基础操作

1. **查看时间**
   - 打开应用后，屏幕中央会显示当前时间（24小时制）
   - 默认显示秒钟，如：22:12:33
   - 默认在底部显示当前日期

2. **设置时间显示**
   - 点击右上角的齿轮图标 ⚙️
   - 在「显示选项」组中：
     - 切换「显示秒钟」开关控制是否显示秒钟
     - 切换「显示日期」开关控制是否显示日期

3. **切换主题模式**
   - 在设置面板的「主题模式」组中选择：
     - **自动 🌓**：根据系统设置或时间自动切换（推荐）
     - **白天 ☀️**：始终使用浅色主题
     - **夜间 🌙**：始终使用深色主题

4. **横屏使用**
   - 旋转手机到横屏模式
   - 时间和日期会自动调整为并排显示
   - 字体大小会自动适配横屏尺寸

3. **保持屏幕常亮**
   - 应用会自动尝试防止屏幕休眠
   - 确保 Safari 有屏幕使用权限
   - 建议设置 iPhone 的「自动锁定」为「永不」以获得最佳效果

### iPhone 设置优化

为了让你的 iPhone SE 作为时钟更好用，建议进行以下设置：

1. **显示与亮度**
   - 设置 > 显示与亮度 > 自动锁定 > 永不
   - 调整屏幕亮度到舒适水平
   - 开启「自动亮度调节」以节省电量

2. **电池优化**
   - 设置 > 电池 > 低电量模式（可选）
   - 保持连接充电器以持续供电

3. **勿扰模式**（可选）
   - 设置 > 专注模式 > 勿扰
   - 避免通知干扰时钟显示

4. **Safari 设置**
   - 设置 > Safari > 阅读器 > 关闭自动开启
   - 确保 JavaScript 已启用

## 🎨 自定义样式

你可以通过修改 `style.css` 文件来自定义应用外观：

### 修改时间字体大小
```css
:root {
  --time-size: 20vw;  /* 修改这个值，默认是20vw */
  --date-size: 6vw;   /* 日期字体大小 */
}
```

### 修改配色方案

**深色主题：**
```css
[data-theme="dark"] {
  --primary-bg: #000000;      /* 背景色 */
  --text-color: #ffffff;      /* 文字颜色 */
  --accent-color: #007aff;    /* 强调色（按钮等） */
}
```

**浅色主题：**
```css
[data-theme="light"] {
  --primary-bg: #ffffff;      /* 背景色 */
  --text-color: #000000;      /* 文字颜色 */
  --accent-color: #007aff;    /* 强调色（按钮等） */
}
```

### 修改自动主题切换时间

编辑 `script.js` 中的 `getAutoTheme()` 方法：
```javascript
// 默认：6:00-18:00 为白天主题
return (hour >= 6 && hour < 18) ? 'light' : 'dark';

// 自定义：8:00-20:00 为白天主题
return (hour >= 8 && hour < 20) ? 'light' : 'dark';
```

## 📱 设备兼容性

本应用采用响应式设计，支持广泛的设备和屏幕尺寸：

### 📱 手机设备
| 设备系列 | 屏幕尺寸 | 适配状态 |
|---------|---------|----------|
| **iPhone SE** | 320×568px | ✅ 优先优化 |
| iPhone 6/7/8 | 375×667px | ✅ 完美支持 |
| iPhone X/11/12 mini | 375×812px | ✅ 完美支持 |
| iPhone Plus/Pro Max | 414×896px+ | ✅ 完美支持 |
| Android 小屏 | 320-360px | ✅ 完美支持 |
| Android 中屏 | 360-414px | ✅ 完美支持 |
| Android 大屏 | 414px+ | ✅ 完美支持 |

### 📱 平板设备
| 设备 | 屏幕尺寸 | 适配状态 |
|------|---------|----------|
| iPad mini | 768×1024px | ✅ 完美支持 |
| iPad / iPad Air | 820×1180px | ✅ 完美支持 |
| iPad Pro | 1024×1366px+ | ✅ 完美支持 |
| Android 平板 | 768px+ | ✅ 完美支持 |

### 💻 桌面设备
| 设备类型 | 适配状态 |
|---------|----------|
| 桌面浏览器 | ✅ 完美支持 |
| 笔记本电脑 | ✅ 完美支持 |
| 外接显示器 | ✅ 完美支持 |

### 🔄 屏幕方向
- ✅ 竖屏模式 - 传统布局，时间上方，日期下方
- ✅ 横屏模式 - 智能布局，时间和日期并排或日期垂直显示

## 🔧 技术细节

### 文件结构
```
web-clock/
├── index.html      # 主页面结构（69行）
├── style.css       # 样式文件（476行）
├── script.js       # 核心功能（570行）
└── README.md       # 项目说明（本文件）
```

### 技术栈
- **纯 HTML/CSS/JavaScript** - 无需任何框架或依赖
- **CSS 变量** - 便于自定义和主题化
- **现代CSS技术** - clamp()、Flexbox 实现响应式布局
- **媒体查询** - 精准适配7种屏幕尺寸范围
- **viewport 单位** - vw、vh 实现流体布局
- **Wake Lock API** - 现代防休眠方案
- **localStorage** - 本地存储设置
- **Fullscreen API** - 全屏显示支持

### 响应式设计实现

#### 智能字体缩放
应用使用 CSS `clamp()` 函数实现智能字体缩放：
```css
/* 时间显示：最小48px，理想18vw，最大128px */
--time-size: clamp(3rem, 18vw, 8rem);

/* 日期显示：最小16px，理想5vw，最大40px */
--date-size: clamp(1rem, 5vw, 2.5rem);
```

#### 7级媒体查询适配
1. **小屏手机** (≤320px) - iPhone SE 等
2. **中屏手机** (375-414px) - iPhone 6/7/8, iPhone X/11/12
3. **大屏手机** (414-768px) - iPhone Plus, Pro Max
4. **平板设备** (768-1024px) - iPad mini, iPad
5. **桌面端** (≥1024px) - 电脑浏览器
6. **横屏模式** - 所有设备横屏自动调整布局
7. **超宽横屏** - 特殊横屏比例优化

#### 布局自适应
- **竖屏**：垂直布局，时间在上，日期在下
- **横屏**：水平布局，时间和日期并排，日期垂直显示
- **超宽横屏**：日期改为水平显示，充分利用空间

### 防休眠机制

应用采用多层防休眠策略，确保在各种浏览器上都能保持屏幕常亮：

1. **Wake Lock API** (主要方案)
   - 现代浏览器的标准 API
   - Safari 16.4+ 支持
   - 最可靠和节能的方案

2. **隐藏视频技术** (降级方案1)
   - 使用 1x1px 透明视频
   - 兼容较旧的 Safari 版本
   - NoSleep.js 原理

3. **定时器心跳** (降级方案2)
   - 每30秒触发轻微 DOM 更新
   - 最大兼容性
   - 最后的保障

### 浏览器兼容性

- ✅ **Safari (iOS)** - 完全支持，推荐使用
- ✅ **Chrome (iOS)** - 支持，但推荐 Safari 以获得最佳体验
- ✅ **现代桌面浏览器** - 支持，但设计主要针对移动端

## 🐛 常见问题

### Q: 屏幕还是会休眠怎么办？
A:
1. 确保 iPhone 的「自动锁定」设置为「永不」
2. 检查 Safari 是否有屏幕使用权限
3. 从主屏幕打开应用（而不是直接在 Safari 中打开）
4. 确保设备没有开启低电量模式的严格限制

### Q: 时间显示不准确？
A: 时间来自设备的系统时间，请确保：
1. iPhone 的时间设置正确
2. 已开启「自动设置」时间

### Q: 能否添加秒针显示？
A: **已支持！** v1.1.0 版本已经添加了秒钟显示功能，默认开启，可以在设置中切换。

### Q: 能否横屏显示？
A: **已支持！** 应用完美支持横屏显示，CSS 中已经包含了横屏适配，时间和日期会自动并排显示。

### Q: 能否切换主题？
A: **已支持！** v1.1.0 版本添加了三种主题模式：
- 🌓 自动：根据系统设置或时间（6:00-18:00）自动切换
- ☀️ 白天：浅色主题
- 🌙 夜间：深色主题

### Q: 如何部署到 GitHub Pages？
A:
1. 创建 GitHub 仓库
2. 上传所有文件
3. 进入仓库的 Settings > Pages
4. 选择主分支并保存
5. 访问 `https://你的用户名.github.io/仓库名/`

## 📝 更新日志

### v1.1.0 (2026-01-11)
- ✨ **新增秒钟显示功能** - 可选显示秒钟，增加动态感
- 🎨 **新增主题系统** - 支持自动/白天/夜间三种主题模式
- 📱 **优化横屏显示** - 改进横屏布局，时间和日期并排显示
- 🎛️ **改进设置面板** - 添加设置分组，界面更清晰
- 🔄 **智能主题切换** - 自动模式根据系统设置或时间切换主题
- 🐛 **修复若干小问题** - 提升整体稳定性和性能

### v1.0.0 (2026-01-11)
- 🎉 首次发布
- ⏰ 24小时制时间显示
- 📅 可选日期显示功能
- ⚙️ 设置面板
- 🔒 多层防休眠机制
- 📱 iPhone SE 专门优化
- 💾 设置持久化存储

## 📝 版本历史

### v1.2.0 (2026-01-12)
**响应式设计升级 + 数字宽度修复**

#### ✨ 新增功能
- 🎨 全面响应式设计，支持从320px到桌面端的所有设备
- 📱 7级媒体查询系统，精准适配不同屏幕尺寸
- 💻 新增桌面端和平板设备完美支持
- ⛶ 添加全屏功能按钮

#### 🔧 问题修复
- 修复数字宽度跳动问题，使用强制等宽数字
- 修复设置面板无法滚动的问题

#### 📱 设备支持
- iPhone SE (320px) - 优先优化 ✅
- iPhone 6/7/8/X/11/12/13/14 系列 ✅
- iPhone Plus / Pro Max 系列 ✅
- iPad mini / iPad / iPad Pro ✅
- Android 手机和平板 ✅
- 桌面浏览器 ✅

#### 🎯 技术改进
- 使用 clamp() 实现智能字体缩放
- 使用 font-feature-settings 强制表格数字
- 优化横屏模式和超宽屏布局
- 添加详细的设备兼容性文档

---

### v1.1.0 (2026-01-11)
**主题系统 + 秒钟显示**

#### ✨ 新增功能
- 🎨 三种主题模式：自动/白天/夜间
- ⏱️ 可选秒钟显示功能
- 🔄 横屏模式优化
- ⚙️ 设置面板分组和改进

#### 🎯 技术改进
- 智能主题切换系统
- 系统主题变化监听
- 设置持久化存储

---

### v1.0.0 (2026-01-11)
**初始版本**

#### ✨ 核心功能
- ⏰ 24小时制时间显示
- 📅 可选日期显示
- 🔒 多层防休眠机制
- 📱 iPhone SE 专门优化
- 🎨 深色主题设计
- 💾 设置持久化

## 📄 许可证

MIT License - 自由使用、修改和分发

## 🙏 致谢

感谢所有为开源社区做出贡献的开发者！

## 📮 联系方式

如有问题或建议，欢迎提交 Issue 或 Pull Request。

---

**享受你的新时钟！** ⏰✨